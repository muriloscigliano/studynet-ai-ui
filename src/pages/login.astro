---
import Layout from "../layouts/Layout.astro";
import AuthForm from "../components/AuthForm";

// Page content
const pageTitle = "Login — StudyNet.AI";
const heroPill = "Login or Signup";
const heroTitle = "Unlock your next step with Studynet.AI";
const footerText = "Smart tools for students, counsellors, and institutions.";
---
<Layout title={pageTitle}>
  <div class="login-page">
    <!-- Header -->
    <div class="login-page-header">
      <div class="login-page-logo">
        <img src="https://dummyimage.com/122x36/FFFFFF/000000.png&text=StudyNet" alt="StudyNet" />
      </div>
      <button 
        class="login-page-close" 
        id="loginCloseBtn"
        aria-label="Go back"
      >
        ✕
      </button>
    </div>

    <!-- Main Content -->
    <div class="login-page-main">
      <!-- Hero Text -->
      <div class="login-page-hero">
        <div class="login-page-pill">{heroPill}</div>
        <h1 class="login-page-title">{heroTitle}</h1>
      </div>

      <!-- Auth Form (Login/Signup) -->
      <AuthForm client:load />

      <!-- Footer Text -->
      <p class="login-page-footer">
        {footerText}
      </p>
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const closeBtn = document.getElementById('loginCloseBtn');
      
      if (closeBtn) {
        closeBtn.addEventListener('click', () => {
          // Check if there's history to go back to
          if (document.referrer && document.referrer !== window.location.href) {
            // Go back to the previous page
            window.history.back();
          } else {
            // No referrer, go to home page
            window.location.href = '/';
          }
        });
      }
    });
  </script>
</Layout>

